(function(e){function t(t){for(var n,u,i=t[0],o=t[1],a=t[2],d=0,f=[];d<i.length;d++)u=i[d],Object.prototype.hasOwnProperty.call(c,u)&&c[u]&&f.push(c[u][0]),c[u]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);b&&b(t);while(f.length)f.shift()();return l.push.apply(l,a||[]),r()}function r(){for(var e,t=0;t<l.length;t++){for(var r=l[t],n=!0,i=1;i<r.length;i++){var o=r[i];0!==c[o]&&(n=!1)}n&&(l.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},c={app:0},l=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var a=0;a<i.length;a++)t(i[a]);var b=o;l.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"284b":function(e,t,r){"use strict";r("2fed")},"2fed":function(e,t,r){},"8a63":function(e,t,r){},c53f:function(e,t,r){"use strict";r("8a63")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=Object(n["f"])("div",{id:"nav"},null,-1);function l(e,t){var r=Object(n["x"])("router-view");return Object(n["s"])(),Object(n["e"])(n["a"],null,[c,Object(n["h"])(r)],64)}r("284b");var u=r("6b0d"),i=r.n(u);const o={},a=i()(o,[["render",l]]);var b=a,d=r("6c02"),f=(r("9911"),{style:{"text-align":"left"}}),s={key:0},O={key:1},j={key:2},p=Object(n["f"])("br",null,null,-1),v=Object(n["f"])("br",null,null,-1),y={key:3},h=Object(n["f"])("br",null,null,-1),g=Object(n["f"])("br",null,null,-1),k={key:4},m=Object(n["g"])(" Load a JSON file of API output here: "),w=Object(n["f"])("br",null,null,-1),R=Object(n["f"])("br",null,null,-1),x=Object(n["f"])("p",null,"or copy records in as text in the box below.",-1),E=Object(n["g"])(),C=Object(n["f"])("br",null,null,-1),T={key:0},_={key:1},S=Object(n["g"])(),z=Object(n["f"])("br",null,null,-1),U=Object(n["g"])(),F=Object(n["f"])("br",null,null,-1),I=Object(n["g"])(" Use the tab buttons at the top of the page to interact with your data in different ways. "),A=Object(n["f"])("br",null,null,-1),N=Object(n["g"])(),P=Object(n["f"])("br",null,null,-1),Q={key:5},V=Object(n["f"])("p",null," This page allows you to filter different kinds of records out of the data set which may be irrelevant to your audit ",-1),D=Object(n["g"])(" Show these types:"),L=Object(n["f"])("br",null,null,-1),B=Object(n["g"])(" verified "),H=Object(n["g"])(" unverified "),J=Object(n["g"])(" error "),K=Object(n["f"])("br",null,null,-1),Y=Object(n["f"])("br",null,null,-1),M=Object(n["g"])(" Show records with the following recommendations:"),W=Object(n["f"])("br",null,null,-1),q=Object(n["g"])(" display "),G=Object(n["g"])(" search "),X=Object(n["g"])(" none "),Z=Object(n["f"])("br",null,null,-1),$=Object(n["f"])("br",null,null,-1),ee=Object(n["g"])(" Keep only records likely to have transliterated titles?"),te=Object(n["f"])("br",null,null,-1),re=Object(n["g"])(" yes "),ne=Object(n["f"])("br",null,null,-1),ce=Object(n["f"])("br",null,null,-1),le={key:0},ue={class:"flexcontainer"},ie={class:"scrollbox"},oe=Object(n["f"])("br",null,null,-1),ae=Object(n["f"])("br",null,null,-1),be={dir:"rtl"},de=Object(n["g"])(),fe=Object(n["f"])("br",null,null,-1),se=Object(n["g"])(),Oe=Object(n["f"])("br",null,null,-1),je={class:"scrollbox"},pe=Object(n["f"])("br",null,null,-1),ve=Object(n["f"])("br",null,null,-1),ye={dir:"rtl"},he=Object(n["g"])(),ge=Object(n["f"])("br",null,null,-1),ke=Object(n["g"])(),me=Object(n["f"])("br",null,null,-1),we=["href"],Re=Object(n["f"])("button",null,"export remaining",-1),xe=[Re],Ee=["href"],Ce=Object(n["f"])("button",null,"export removed",-1),Te=[Ce],_e={key:6},Se={key:0},ze=Object(n["g"])(),Ue=Object(n["f"])("br",null,null,-1),Fe={class:"worktitle",style:{display:"inline-block"}},Ie=Object(n["f"])("br",null,null,-1),Ae=Object(n["f"])("br",null,null,-1),Ne={class:"hebrew",dir:"rtl",style:{"text-align-last":"right"}},Pe=Object(n["g"])(),Qe=Object(n["f"])("br",null,null,-1),Ve=Object(n["f"])("br",null,null,-1),De=Object(n["f"])("br",null,null,-1),Le={key:0},Be=["href"],He=Object(n["g"])(" | "),Je=["href"],Ke=Object(n["g"])(" | "),Ye=["href"],Me=Object(n["g"])(" | "),We=["href"],qe=Object(n["f"])("br",null,null,-1),Ge={key:1},Xe={key:2},Ze={style:{display:"inline-block","margin-left":"1em","font-size":"0.9em"}},$e=["href"],et={class:"hebrew",dir:"rtl",style:{"text-align-last":"right","margin-left":"1em"}},tt=Object(n["f"])("br",null,null,-1),rt=Object(n["f"])("br",null,null,-1),nt=Object(n["f"])("br",null,null,-1),ct={key:4,dir:"rtl"},lt={key:1},ut={key:2},it={key:0},ot=["onClick"],at={dir:"ltr"},bt={class:"hebrew",style:{"font-size":"1.6em"}},dt={class:"dropdown-content"},ft=["onClick"],st={key:1},Ot=["onClick"],jt=["id","onUpdate:modelValue","onKeyUp"],pt=["href"],vt=Object(n["f"])("br",null,null,-1),yt=["onClick"],ht=Object(n["g"])(),gt=Object(n["f"])("br",null,null,-1),kt=["onClick"],mt=Object(n["g"])(),wt=Object(n["f"])("br",null,null,-1),Rt=["onClick"],xt=Object(n["g"])(" move "),Et=["onClick"],Ct=Object(n["f"])("br",null,null,-1),Tt={key:5},_t={key:0},St={key:1},zt=Object(n["f"])("tr",null,[Object(n["f"])("td",null,[Object(n["f"])("br")])],-1),Ut=Object(n["f"])("tr",null,[Object(n["g"])("full API output:"),Object(n["f"])("td")],-1),Ft=Object(n["f"])("br",null,null,-1),It={key:7},At={class:"scrollbox"},Nt=Object(n["f"])("br",null,null,-1),Pt=Object(n["f"])("br",null,null,-1),Qt=Object(n["f"])("br",null,null,-1),Vt={key:0,dir:"rtl"},Dt=Object(n["f"])("br",null,null,-1),Lt=Object(n["f"])("br",null,null,-1),Bt=Object(n["g"])(),Ht=Object(n["f"])("br",null,null,-1),Jt=["href"],Kt=Object(n["f"])("button",null,"export audited",-1),Yt=[Kt];function Mt(e,t,r,c,l,u){return Object(n["s"])(),Object(n["e"])("div",f,["string"!==typeof e.recordsObject||0!==e.audited.length?(Object(n["s"])(),Object(n["e"])("span",s,[Object(n["f"])("button",{onClick:t[0]||(t[0]=function(t){return e.currTab=e.Tab.Input}),class:Object(n["n"])(e.isActive(e.Tab.Input))}," input records ("+Object(n["z"])("string"!==typeof e.recordsObject?e.recordsObject.length:0)+") ",3)])):Object(n["d"])("",!0),"string"!==typeof e.recordsObject?(Object(n["s"])(),Object(n["e"])("span",O,[Object(n["f"])("button",{onClick:t[1]||(t[1]=function(t){return e.currTab=e.Tab.Filter}),class:Object(n["n"])(e.isActive(e.Tab.Filter))}," filter input ",2),Object(n["f"])("button",{onClick:t[2]||(t[2]=function(t){return e.currTab=e.Tab.Audit}),class:Object(n["n"])(e.isActive(e.Tab.Audit))}," audit individual records ",2)])):Object(n["d"])("",!0),"string"!==typeof e.recordsObject||0!==e.audited.length?(Object(n["s"])(),Object(n["e"])("span",j,[Object(n["f"])("button",{onClick:t[3]||(t[3]=function(t){return e.currTab=e.Tab.Export}),class:Object(n["n"])(e.isActive(e.Tab.Export))}," export audited ("+Object(n["z"])(e.audited.length)+") ",3)])):Object(n["d"])("",!0),p,v,"string"===typeof e.currentRecord?(Object(n["s"])(),Object(n["e"])("div",y,[Object(n["g"])(Object(n["z"])(e.currentRecord)+" ",1),h,g])):Object(n["d"])("",!0),"input"===e.currTab?(Object(n["s"])(),Object(n["e"])("div",k,[m,w,Object(n["f"])("input",{type:"file",id:"recordInput",onChange:t[4]||(t[4]=function(t){return e.loadFile(t)})},null,32),R,x,Object(n["E"])(Object(n["f"])("textarea",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.textRecords=t})},null,512),[[n["C"],e.textRecords]]),E,C,"string"===typeof e.currentRecord?(Object(n["s"])(),Object(n["e"])("div",T," Once records are loaded tabs will appear above to provide further functionality. ")):(Object(n["s"])(),Object(n["e"])("div",_,[Object(n["f"])("button",{onClick:t[6]||(t[6]=function(){return e.clearInput&&e.clearInput.apply(e,arguments)})},"clear input (cannot be undone)"),S,z,U,F,I,A,N,P,Object(n["g"])(" current number of input records: "+Object(n["z"])(e.recordsObject.length),1)]))])):Object(n["d"])("",!0),"filter"===e.currTab?(Object(n["s"])(),Object(n["e"])("div",Q,[V,D,L,Object(n["E"])(Object(n["f"])("input",{type:"checkbox",name:"verified","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.filVerified=t})},null,512),[[n["B"],e.filVerified]]),B,Object(n["E"])(Object(n["f"])("input",{type:"checkbox",name:"unverified","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.filUnverified=t})},null,512),[[n["B"],e.filUnverified]]),H,Object(n["E"])(Object(n["f"])("input",{type:"checkbox",name:"error","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.filError=t})},null,512),[[n["B"],e.filError]]),J,K,Y,M,W,Object(n["E"])(Object(n["f"])("input",{type:"checkbox",name:"display","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.filDisplay=t})},null,512),[[n["B"],e.filDisplay]]),q,Object(n["E"])(Object(n["f"])("input",{type:"checkbox",name:"search","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.filSearch=t})},null,512),[[n["B"],e.filSearch]]),G,Object(n["E"])(Object(n["f"])("input",{type:"checkbox",name:"none","onUpdate:modelValue":t[12]||(t[12]=function(t){return e.filNoRecommendation=t})},null,512),[[n["B"],e.filNoRecommendation]]),X,Z,$,ee,te,Object(n["E"])(Object(n["f"])("input",{type:"checkbox",name:"likelyTranscription","onUpdate:modelValue":t[13]||(t[13]=function(t){return e.filLikelyTranscription=t})},null,512),[[n["B"],e.filLikelyTranscription]]),re,ne,ce,null!==e.filterResults?(Object(n["s"])(),Object(n["e"])("div",le,[Object(n["f"])("div",ue,[Object(n["f"])("div",ie,[Object(n["g"])(" remaining records: "+Object(n["z"])(e.filterResults[0].length)+" ",1),oe,(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.filterResults[0],(function(t,r){return Object(n["s"])(),Object(n["e"])("div",{key:r},[Object(n["g"])(Object(n["z"])(e.getTitle(t)),1),ae,Object(n["f"])("span",be,Object(n["z"])(e.getHebrewTitle(t)),1),de,fe,se,Oe])})),128))]),Object(n["f"])("div",je,[Object(n["g"])(" removed records: "+Object(n["z"])(e.filterResults[1].length)+" ",1),pe,(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.filterResults[1],(function(t,r){return Object(n["s"])(),Object(n["e"])("div",{key:r},[Object(n["g"])(Object(n["z"])(e.getTitle(t)),1),ve,Object(n["f"])("span",ye,Object(n["z"])(e.getHebrewTitle(t)),1),he,ge,ke,me])})),128))])]),Object(n["f"])("button",{onClick:t[14]||(t[14]=function(){return e.applyFilters&&e.applyFilters.apply(e,arguments)})},"apply filters"),Object(n["f"])("a",{href:e.exportRemaining(),download:"remaining.json"},xe,8,we),Object(n["f"])("a",{href:e.exportRemoved(),download:"removed.json"},Te,8,Ee)])):Object(n["d"])("",!0)])):Object(n["d"])("",!0),"audit"===e.currTab?(Object(n["s"])(),Object(n["e"])("div",_e,["string"!==typeof e.currentRecord?(Object(n["s"])(),Object(n["e"])("div",Se,[Object(n["f"])("em",null,Object(n["z"])(e.currentRecord.type),1),ze,Ue,Object(n["f"])("div",Fe,[Object(n["g"])(Object(n["z"])(e.getTitle(e.currentRecord))+" ",1),Ie,Ae,Object(n["f"])("div",Ne,Object(n["z"])(e.currentHebrewTitle),1)]),Pe,Qe,Object(n["g"])(" "+Object(n["z"])(e.getDate(e.currentRecord))+" ",1),Ve,Object(n["g"])(" "+Object(n["z"])(e.getPublisher(e.currentRecord))+" ",1),De,Object(n["g"])(" "+Object(n["z"])(e.getCreator(e.currentRecord)),1),"error"!==e.currentRecord.type?(Object(n["s"])(),Object(n["e"])("div",Le,[Object(n["f"])("a",{href:e.applyQuery("nli",e.currentConverted.converted),target:"_blank"},"search NLI",8,Be),He,Object(n["f"])("a",{href:e.applyQuery("kvk",e.currentConverted.converted),target:"_blank"},"search KVK",8,Je),Ke,Object(n["f"])("a",{href:e.applyQuery("google",e.currentConverted.converted),target:"_blank"}," search Google ",8,Ye),Me,Object(n["f"])("a",{href:e.applyQuery("googleTranslate",e.currentConverted.converted),target:"_blank"}," Google Translate ",8,We)])):Object(n["d"])("",!0),qe,"verified"===e.currentRecord.type?(Object(n["s"])(),Object(n["e"])("div",Ge,"matched title:")):Object(n["d"])("",!0),"unverified"===e.currentRecord.type?(Object(n["s"])(),Object(n["e"])("div",Xe,"top query result: ")):Object(n["d"])("",!0),Object(n["f"])("div",Ze,[Object(n["f"])("a",{href:e.topQuery.link,target:"_blank"},[Object(n["f"])("div",et,Object(n["z"])(e.delist(e.topQuery.text)),1)],8,$e),"unverified"===e.currentRecord.type?(Object(n["s"])(),Object(n["e"])("button",{key:0,onClick:t[15]||(t[15]=function(){return e.acceptTopQuery&&e.acceptTopQuery.apply(e,arguments)}),style:{"font-size":"0.8em"}}," accept top query result ")):Object(n["d"])("",!0)]),tt,rt,"error"!==e.currentRecord.type?(Object(n["s"])(),Object(n["e"])("button",{key:3,onClick:t[16]||(t[16]=function(){return e.accept&&e.accept.apply(e,arguments)})}," accept displayed title ")):Object(n["d"])("",!0),Object(n["f"])("button",{onClick:t[17]||(t[17]=function(){return e.reject&&e.reject.apply(e,arguments)})},"reject"),Object(n["f"])("button",{onClick:t[18]||(t[18]=function(t){return e.showCorrectionInterface=!e.showCorrectionInterface}),class:Object(n["n"])(e.showCorrectionInterface?"active":"")}," edit title ",2),Object(n["f"])("button",{onClick:t[19]||(t[19]=function(t){return e.showFullRecord=!e.showFullRecord}),class:Object(n["n"])(e.showFullRecord?"active":"")}," show full record ",2),Object(n["f"])("button",{onClick:t[20]||(t[20]=function(){return e.undo&&e.undo.apply(e,arguments)})}," undo last "),nt,e.showCorrectionInterface?(Object(n["s"])(),Object(n["e"])("div",ct,[e.showSimpleEditor?Object(n["E"])((Object(n["s"])(),Object(n["e"])("textarea",{key:0,"onUpdate:modelValue":t[21]||(t[21]=function(t){return e.simpleEditorText=t}),style:{"font-size":"1.3em","font-family":"'Times New Roman', Times, serif"},rows:"3"},null,512)),[[n["C"],e.simpleEditorText]]):null===e.repContainers?(Object(n["s"])(),Object(n["e"])("div",lt,"loading editor...")):(Object(n["s"])(),Object(n["e"])("div",ut,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.repContainers,(function(t,r){return Object(n["s"])(),Object(n["e"])("div",{class:"word-box hover-me",key:r},[t.hot?(Object(n["s"])(),Object(n["e"])("div",st,[Object(n["f"])("div",{dir:"ltr",onClick:function(e){return t.hot=!1}}," "+Object(n["z"])(t.currKey),9,Ot),Object(n["E"])(Object(n["f"])("input",{id:"input"+t.idx,class:"hebrew","onUpdate:modelValue":function(e){return t.currRep=e},style:Object(n["o"])(e.boxSize(t,1)+"; font-size:1.6em"),onKeyUp:Object(n["F"])((function(e){return t.hot=!1}),["enter"])},null,44,jt),[[n["C"],t.currRep]]),Object(n["f"])("div",null,[Object(n["f"])("a",{href:e.applyQuery("morfix",t.currRep),target:"_blank"},"morfix",8,pt),vt,Object(n["f"])("button",{onClick:function(r){return e.deleteWord(t)}},"delete word",8,yt),ht,gt,Object(n["f"])("button",{onClick:function(r){return e.addWord(t)}},"add word",8,kt),mt,wt,Object(n["f"])("button",{onClick:function(r){return e.moveWord(t,-1)}},"<-",8,Rt),xt,Object(n["f"])("button",{onClick:function(r){return e.moveWord(t,1)}},"->",8,Et)])])):(Object(n["s"])(),Object(n["e"])("div",it,[Object(n["f"])("div",{onClick:function(r){return e.activateEditor(t)}},[Object(n["f"])("div",at," "+Object(n["z"])(t.currKey),1),Object(n["f"])("div",bt,Object(n["z"])(t.currRep)+" ",1)],8,ot),Object(n["f"])("div",dt,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(t.reps,(function(e){return Object(n["s"])(),Object(n["e"])("div",{class:"hebrew",onClick:function(r){return t.currRep=e},style:{"font-size":"1.6em"},key:e},Object(n["z"])(e),9,ft)})),128))])]))])})),128))])),Ct,Object(n["f"])("button",{onClick:t[22]||(t[22]=function(){return e.acceptEdited&&e.acceptEdited.apply(e,arguments)})},"accept edited Hebrew"),Object(n["f"])("button",{onClick:t[23]||(t[23]=function(t){return e.toggleSimpleEditor()}),class:Object(n["n"])(e.showSimpleEditor?"active":"")},"use simple editor",2)])):Object(n["d"])("",!0),e.showFullRecord&&"string"!==typeof e.currentRecord?(Object(n["s"])(),Object(n["e"])("table",Tt,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.currentRecord.record,(function(e,t,r){return Object(n["s"])(),Object(n["e"])("tr",{key:r},[Object(n["f"])("td",null,Object(n["z"])(t)+":",1),Array.isArray(e)&&1===e.length?(Object(n["s"])(),Object(n["e"])("td",_t,Object(n["z"])(e[0]),1)):(Object(n["s"])(),Object(n["e"])("td",St,Object(n["z"])(e),1))])})),128)),zt,Ut,(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.currentRecord,(function(e,t,r){return Object(n["s"])(),Object(n["e"])("tr",{key:r},[Object(n["f"])("td",null,[Object(n["f"])("code",null,Object(n["z"])(t)+":",1)]),Object(n["f"])("td",null,[Object(n["f"])("code",null,Object(n["z"])(e),1)])])})),128))])):Object(n["d"])("",!0),Ft])):Object(n["d"])("",!0)])):Object(n["d"])("",!0),"export"===e.currTab?(Object(n["s"])(),Object(n["e"])("div",It,[Object(n["f"])("div",At,[Nt,Pt,(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.audited,(function(t,r){return Object(n["s"])(),Object(n["e"])("div",{key:r},[Object(n["g"])(Object(n["z"])(e.getTitle(t)),1),Qt,t.audit_result.title?(Object(n["s"])(),Object(n["e"])("span",Vt,[Object(n["g"])(Object(n["z"])(t.audit_result.title)+" ",1),Dt])):Object(n["d"])("",!0),Object(n["f"])("em",null,Object(n["z"])(t.audit_result.type),1),Lt,Bt,Ht])})),128))]),Object(n["f"])("a",{href:e.exportAudited(),download:"audited.json"},Yt,8,Jt),Object(n["f"])("button",{onClick:t[24]||(t[24]=function(){return e.clearAudited&&e.clearAudited.apply(e,arguments)})},"clear audited (cannot be undone)")])):Object(n["d"])("",!0)])}var Wt,qt,Gt,Xt=r("3835");r("498a"),r("fb6a"),r("99af"),r("d81d"),r("e9c4"),r("d3b7"),r("159b"),r("4de4"),r("a434"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),r("a15b"),r("ac1f"),r("841c");(function(e){e["Verified"]="verified",e["Unverified"]="unverified",e["Error"]="error"})(Wt||(Wt={})),function(e){e["NewDIN"]="New DIN 31631",e["OldDIN"]="Old DIN 31631",e["PI"]="PI",e["Unknown"]="unknown",e["NotLatin"]="not_latin"}(qt||(qt={})),function(e){e["MatchedTitle"]="matched_title",e["Converted"]="converted",e["TopQuery"]="top_query_result",e["Edited"]="edited",e["Rejected"]="rejected"}(Gt||(Gt={}));var Zt,$t=function(e){return e.record.title?e.record.title[0]:e.record.isPartOf?e.record.isPartOf[0]:"[record has no title]"},er=function(e){return e.record.date?e.record.date[0]:""},tr=function(e){return e.record.creator?e.record.creator[0]:""},rr=function(e){return e.record.publisher?e.record.publisher[0]:""},nr=function(e){return e.type===Wt.Unverified?e.converted:e.type===Wt.Verified?cr(e.matched_title.text):"title not converted due to error"},cr=function(e){return Array.isArray(e)?e[0]:e},lr=function(e){return e.type===Wt.Unverified?e.top_query_result:e.matched_title},ur=function(e,t,r,n,c,l,u,i){var o=e.type;if(!(o===Wt.Verified&&t||o===Wt.Unverified&&r||o===Wt.Error&&n))return!1;if(o===Wt.Error)return!!u;var a=e,b=a.recommendation;if(!(b.display.length&&c||b.search.length&&l||!b.display.length&&!b.search.length&&u))return!1;var d=a.diagnostic_info.main_title;return!(i&&d.foreign_tokens&&!d.transliteration_tokens&&!d.all_recognized)};(function(e){e["Input"]="input",e["Audit"]="audit",e["Filter"]="filter",e["Export"]="export"})(Zt||(Zt={}));r("5319");var ir={morfix:"http://www.morfix.co.il/QUERY_HERE",googleTranslate:"https://translate.google.com/#iw/en/QUERY_HERE",nli:"http://merhav.nli.org.il/primo_library/libweb/action/search.do;jsessionid=DD40D325955438DF28DC1C47A7B81B2C?fn=search&ct=search&initialSearch=true&mode=Basic&tab=default_tab&indx=1&dum=true&srt=rank&vid=NLI&frbg=&vl%28freeText0%29=QUERY_HERE&scp.scps=scope%3A%28NNL%29",kvk:"http://kvk.bibliothek.kit.edu/hylib-bin/kvk/nph-kvk2.cgi?maske=kvk-redesign&lang=de&title=KIT-Bibliothek%3A+Karlsruher+Virtueller+Katalog+KVK+%3A+Ergebnisanzeige&head=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fhead.html&header=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fheader.html&spacer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Fspacer.html&footer=%2F%2Fkvk.bibliothek.kit.edu%2Fasset%2Fhtml%2Ffooter.html&css=none&input-charset=utf-8&ALL=&TI=QUERY_HERE&AU=&CI=&ST=&PY=&SB=&SS=&PU=&kataloge=COPAC&kataloge=VERBUND_ISRAEL&kataloge=WORLDCAT&ref=direct&client-js=yes",google:"https://google.com/search?q=QUERY_HERE",marc21:"https://www.loc.gov/marc/bibliographic/concise/bdQUERY_HERE.html",hebis:"http://cbsopac.rz.uni-frankfurt.de/DB=2.1/PPNSET?PPN=QUERY_HERE"},or=function(e,t){var r=encodeURIComponent(t);return ir[e].replace("QUERY_HERE",r)},ar=Object(n["i"])({name:"Audit",setup:function(){var e=Object(n["v"])(""),t=Object(n["v"])("Enter records to begin!");Object(n["D"])(e,(function(e){var r=e.trim();if(""===r||"[]"===r)return t.value="Enter some records to begin!",void window.localStorage.setItem("textRecords",r);var n=r[0];n="["===n||","===n?"[":"[".concat(n);var c=r.slice(-1);c="]"===c||","===c?"]":"".concat(c,"]"),r="".concat(n).concat(r.slice(1,-1)).concat(c),window.localStorage.setItem("textRecords",r);try{t.value=JSON.parse(r)}catch(l){t.value="Record input was invalid JSON"}}));var r=Object(n["v"])(Zt.Input),c=function(e){return e.output.map((function(e,t){return{currKey:e.key,currRep:e.reps[0],reps:e.reps.slice(0,10),hot:!1,idx:t}}))},l=function(e){e.value=!e.value},u=Object(n["v"])(!0),i=function(){return l(u)},o=Object(n["v"])(""),a=Object(n["v"])([]),b=function(){return window.localStorage.setItem("audited",JSON.stringify(a.value))},d=function(e){var t=a.value.push(e);return b(),t},f=function(){var e=a.value.pop();return b(),e},s=Object(n["v"])(null),O=Object(n["v"])("");Object(n["D"])(t,(function(e){if(s.value=null,u.value=!0,"string"!==typeof e){if(0===t.value.length)return r.value=0===a.value.length?Zt.Audit:Zt.Input,void(O.value="No more records. Please enter some.");var n=new XMLHttpRequest;n.onload=function(){var e;try{e=JSON.parse(n.responseText)}catch(t){return void console.log("didn't get valid JSON from the server")}s.value=c(e),u.value=!1},n.open("GET","/text/".concat(encodeURI($t(e[0])))),n.send(),o.value=nr(e[0]);var l=Object(Xt["a"])(e,1);O.value=l[0]}else O.value=e}));var j=O,p=function(){e.value=""},v=Object(n["b"])((function(){return"string"===typeof O.value?"":nr(O.value)})),y=0,h=function(e){null!==s.value&&(s.value[y].hot=!1,e.hot=!0,y=e.idx)},g=function(e){return e.forEach((function(e,t){e.idx=t}))},k=function(e){null!==s.value&&(s.value=s.value.filter((function(t,r){return r!==e.idx})),y=0,g(s.value))},m=function(e){null!==s.value&&(e.hot=!1,s.value.splice(e.idx+1,0,{currKey:"(added word)",currRep:"",reps:[""],hot:!0,idx:0}),g(s.value))},w=function(e,t){if(null!==s.value){var r=e.idx+t;if(!(r>=s.value.length||r<0)){var n=s.value[r];s.value[e.idx]=n,s.value[r]=e,g(s.value)}}},R=function(e){return r.value===e?"active":""},x=function(e,t){return"max-width: ".concat(Math.max(e.currRep.length,2)*t,"rem")},E=Object(n["b"])((function(){var e=O.value;return"string"===typeof e||"error"===e.type?{text:"",link:""}:lr(e)})),C=Object(n["v"])("");Object(n["D"])(O,(function(e){"string"!==typeof e&&"error"!==e.type&&(C.value=e.converted)}));var T=function(t){if(null!==t){var r=t.target,n=r.files;if(null!==n&&void 0!==n){var c=new FileReader;c.addEventListener("load",(function(){"string"===typeof c.result&&(e.value=c.result)})),c.readAsText(n[0])}}},_=Object(n["v"])(!1),S=function(){return l(_)},z=Object(n["v"])(!1),U=function(){return l(z)},F=Object(n["v"])(!1),I=function(){return l(F)},A=Object(n["v"])(!1),N=Object(n["v"])(!0),P=Object(n["v"])(!1),Q=Object(n["v"])(!0),V=Object(n["v"])(!0),D=Object(n["v"])(!0),L=Object(n["v"])(!0),B=Object(n["b"])((function(){if("string"===typeof t.value)return null;var e=[],r=[];return t.value.forEach((function(t){ur(t,A.value,N.value,P.value,Q.value,V.value,D.value,L.value)?e.push(t):r.push(t)})),[e,r]})),H=function(e,t){var r=new Blob([JSON.stringify(e)],{type:"application/json"});return 0!==t.length&&URL.revokeObjectURL(t[0]),t[0]=URL.createObjectURL(r),t[0]},J=[],K=function(){return null===B.value?"":H(B.value[0],J)},Y=[],M=function(){return null===B.value?"":H(B.value[1],Y)},W=function(){null!==B.value&&(e.value=JSON.stringify(B.value[0]))},q=Object(n["b"])((function(){return null===B.value?"":JSON.stringify(B.value[0])})),G=[],X=function(){return H(a.value,G)},Z=function(){a.value=[],b()},$=function(){if("string"===typeof t.value)throw Error("No Records");var r=Object(Xt["a"])(t.value,1),n=r[0];return t.value=t.value.slice(1),e.value=JSON.stringify(t.value),n},ee=function(){if("string"!==typeof t.value){var r=f();void 0!==r&&(t.value.splice(0,0,r),e.value=JSON.stringify(t.value))}},te=function(){var e,t=$(),r=nr(t);if(t.type===Wt.Verified)e=Gt.MatchedTitle;else{if(t.type!==Wt.Unverified)return;e=Gt.Converted}t.audit_result={type:e,title:r},d(t)},re=function(){if(null===s.value)throw Error("don't accept edited with no input");var e;e=!0===u.value?o.value:s.value.map((function(e){return e.currRep})).join(" ");var t=$();t.audit_result={type:Gt.Edited,title:e},d(t)},ne=function(){var e=$();if("unverified"!==e.type)throw ee(),Error("should only be possible to reach this code with unverified record.");var t=e,r=cr(t.top_query_result.text),n=e;n.audit_result={type:Gt.TopQuery,title:r},d(n),$()},ce=function(){var e=$();e.audit_result={type:Gt.Rejected,title:""},d(e)};if(0===a.value.length){var le=window.localStorage.getItem("audited");null!==le&&(a.value=JSON.parse(le))}if(""===e.value){var ue=window.localStorage.getItem("textRecords");null!==ue&&(e.value=ue)}return{makeRepContainers:c,textRecords:e,recordsObject:t,currTab:r,isActive:R,Tab:Zt,currentRecord:O,currentConverted:j,loadFile:T,corrected:C,clearAudited:Z,clearInput:p,accept:te,acceptEdited:re,acceptTopQuery:ne,reject:ce,undo:ee,audited:a,showFullRecord:_,toggleRef:l,toggleFullRecord:S,showCorrectionInterface:z,showSimpleEditor:u,toggleSimpleEditor:i,simpleEditorText:o,toggleCorrectionInterface:U,deleteWord:k,addWord:m,moveWord:w,showAdvancedFilters:F,toggleAdvancedFilters:I,getTitle:$t,getDate:er,getCreator:tr,getPublisher:rr,getHebrewTitle:nr,currentHebrewTitle:v,filVerified:A,filUnverified:N,filError:P,filDisplay:Q,filSearch:V,filNoRecommendation:D,filLikelyTranscription:L,filterResults:B,exportRemaining:K,exportRemoved:M,exportAudited:X,applyFilters:W,keepResultText:q,topQuery:E,delist:cr,repContainers:s,applyQuery:or,activateEditor:h,boxSize:x}}});r("c53f");const br=i()(ar,[["render",Mt]]);var dr=br,fr=[{path:"/audit",name:"Audit",component:dr}],sr=Object(d["a"])({history:Object(d["b"])("/"),routes:fr}),Or=sr;Object(n["c"])(b).use(Or).mount("#app")}});
//# sourceMappingURL=app.0520d109.js.map